<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/uploads/logo/logo-bg.png" type="image/x-icon">
    <title>
        HTK-ASIA
    </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="/bootstrap/css/bootstrap.css">


    <link rel="stylesheet" href="/custom/css/styles.css" />
    <script src="/jquery.js"></script>

    <link href="/datatable/datatables.min.css" rel="stylesheet" />

    <script src="/datatable/datatables.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="/custom/css/sidebars.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>

</head>

<body id="body-pd">

    <%- include('../partials/header') %>
        <%- include('../partials/sidebar') %>
            <!--Container Main start-->

            <%- include('../partials/flash')%>
                <div class="body_start pb-5">
                    <%- body %>
                </div>


                <script>
                    $(document).ready(function (event) {
                        function is_touch_enabled() {
                            return ('ontouchstart' in window) ||
                                (navigator.maxTouchPoints > 0) ||
                                (navigator.msMaxTouchPoints > 0);
                        }
                        const showNavbar = (toggleId, navId, bodyId, headerId) => {
                            const toggle = document.getElementById(toggleId),
                                nav = document.getElementById(navId),
                                bodypd = document.getElementById(bodyId),
                                headerpd = document.getElementById(headerId)
                            // Validate that all variables exist
                            const manageCollapse = nav.querySelector('#manageCollapse');
                            const prfCollapse = nav.querySelector('#prf-collapse');
                            if (toggle && nav && bodypd && headerpd) {
                                toggle.addEventListener('click', () => {
                                    toggleSidebar();
                                })

                                // $('#manageToggle').on('click', function () {
                                //     if (window.screen.width >= 768) {
                                //         console.log(this.dataset.target)
                                //         if (!nav.querySelector(this.dataset.target).classList.contains('show'))
                                //             toggleSidebar();
                                //     }
                                // })

                                function toggleSidebar() {
                                    nav.classList.toggle('showsidebar')
                                    // change icon
                                    toggle.classList.toggle('bx-x')
                                    // add padding to body
                                    bodypd.classList.toggle('body-pd')
                                    // add padding to header
                                    headerpd.classList.toggle('body-pd')
                                    nav.querySelector('img').classList.toggle('extend_sidebar_img')

                                }
                                $(`#${navId}`).on('mouseover', function () {
                                    if (window.innerWidth >= 768) {
                                        nav.classList.add('showsidebar')
                                        // change icon
                                        toggle.classList.add('bx-x')                                        // add padding to body
                                        bodypd.classList.add('body-pd')
                                        // add padding to header
                                        headerpd.classList.add('body-pd')
                                        nav.querySelector('img').classList.add('extend_sidebar_img')
                                    }
                                })
                                $(`#${navId}`).on('mouseleave', function () {
                                    if (window.innerWidth >= 768) {
                                        nav.classList.remove('showsidebar')
                                        // change icon
                                        toggle.classList.remove('bx-x')                                        // add padding to body
                                        bodypd.classList.remove('body-pd')
                                        // add padding to header
                                        headerpd.classList.remove('body-pd')
                                        nav.querySelector('img').classList.remove('extend_sidebar_img')
                                    }
                                })



                            }

                        }

                        showNavbar('header-toggle', 'navside-bar', 'body-pd', 'header')

                        /*===== LINK ACTIVE =====*/
                        const linkColor = document.querySelectorAll('.nav_link')

                        function colorLink() {
                            if (linkColor) {
                                linkColor.forEach(l => l.classList.remove('active_side'))
                                this.classList.add('active_side')
                            }
                        }
                        linkColor.forEach(l => l.addEventListener('click', colorLink))

                        // Your code to run since DOM is loaded and ready
                    });

                </script>
               
                <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
                <!-- 
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script> -->
</body>

</html>